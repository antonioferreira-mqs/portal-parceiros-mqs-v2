<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portal de Parceiros – Mais Que Seguros</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/svg+xml" href="logo-mqs-favicon.svg" />
  <meta name="theme-color" content="#0D6B3B" />

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="brand">
      <img class="brand__logo" src="logo-mqs.svg" alt="Mais Que Seguros" />
      <div class="brand__text">
        <h1 class="brand__title">Portal de Parceiros</h1>
        <p class="brand__subtitle">Mais Que Seguros</p>
      </div>

      <div class="partner-status" id="partnerStatus" hidden>
        <span class="partner-badge" id="partnerEmailBadge"></span>
        <button id="logoutBtn" class="btn btn-ghost">Sair</button>
      </div>
    </div>
  </header>

  <!-- VIEWS (SPA) -->
  <main class="container">
    <!-- VIEW: LOGIN -->
    <section class="card view" id="view-login" aria-labelledby="loginTitulo">
      <div class="card-head">
        <span class="pill">Acesso</span>
        <h3 id="loginTitulo">Login de Parceiro</h3>
        <p class="helper">Insere o teu email. Enviaremos um código de validação.</p>
      </div>

      <form id="loginForm" class="form" novalidate>
        <label class="input">
          <span>Email</span>
          <input type="email" id="loginEmail" placeholder="parceiro@empresa.pt" required />
        </label>

        <div class="grid grid-2">
          <button type="button" id="sendCodeBtn" class="btn btn-primary">
            <span class="btn__label">Enviar código</span>
            <span class="btn__spinner" aria-hidden="true"></span>
          </button>

          <label class="input">
            <span>Código (6 dígitos)</span>
            <input type="text" id="loginCode" inputmode="numeric" maxlength="6" placeholder="••••••" />
          </label>
        </div>

        <button type="submit" class="btn btn-primary">
          <span class="btn__label">Validar e entrar</span>
          <span class="btn__spinner" aria-hidden="true"></span>
        </button>
      </form>
    </section>

    <!-- VIEW: HOME (após login) -->
    <section class="card view" id="view-home" hidden>
      <div class="card-head">
        <span class="pill">Início</span>
        <h3>O que pretendes fazer?</h3>
        <p class="helper">Escolhe o tipo de pedido para avançar.</p>
      </div>

      <div class="grid grid-2">
        <button class="btn btn-primary" data-nav="simulacao-menu">
          <span class="btn__label">Pedido de Simulação</span>
          <span class="btn__spinner" aria-hidden="true"></span>
        </button>
        <button class="btn btn-primary" data-nav="outro-pedido">
          <span class="btn__label">Outro Pedido</span>
          <span class="btn__spinner" aria-hidden="true"></span>
        </button>
      </div>
    </section>

    <!-- VIEW: MENU RAMOS -->
    <section class="card view" id="view-simulacao-menu" hidden>
      <div class="card-head">
        <span class="pill">Simulações</span>
        <h3>Escolhe o ramo do pedido de simulação</h3>
      </div>

      <div class="grid grid-2 grid-3@lg">
        <button class="btn btn-surface" data-nav="auto-form">Automóvel</button>
        <button class="btn btn-surface" disabled>Multirriscos</button>
        <button class="btn btn-surface" disabled>Saúde</button>
        <button class="btn btn-surface" disabled>Vida</button>
        <button class="btn btn-surface" disabled>Vida Crédito</button>
        <button class="btn btn-surface" disabled>Acidentes Pessoais</button>
        <button class="btn btn-surface" disabled>Cães e Gatos</button>
        <button class="btn btn-surface" disabled>Acidentes de Trabalho</button>
        <button class="btn btn-surface" disabled>Responsabilidade Civil</button>
        <button class="btn btn-surface" disabled>Viagem</button>
        <button class="btn btn-surface" disabled>PPR</button>
        <button class="btn btn-surface" disabled>Outros</button>
      </div>

      <div class="row-actions">
        <button class="btn" data-nav="home">Voltar</button>
      </div>
    </section>

    <!-- VIEW: OUTRO PEDIDO (placeholder simples) -->
    <section class="card view" id="view-outro-pedido" hidden>
      <div class="card-head">
        <span class="pill">Tarefas</span>
        <h3>Outro Pedido</h3>
        <p class="helper">Formulário breve para pedidos gerais (será ligado à lista “TAREFAS”).</p>
      </div>

      <form id="formOutro" class="form" novalidate>
        <label class="input">
          <span>Assunto</span>
          <input type="text" name="assunto" placeholder="Ex.: Atualização de dados" required />
        </label>
        <label class="input">
          <span>Descrição</span>
          <textarea name="descricao" placeholder="Descreve o pedido" required></textarea>
        </label>
        <button type="submit" class="btn btn-primary">
          <span class="btn__label">Submeter Pedido</span>
          <span class="btn__spinner" aria-hidden="true"></span>
        </button>
      </form>

      <div class="row-actions">
        <button class="btn" data-nav="home">Voltar</button>
      </div>
    </section>

    <!-- VIEW: FORMULÁRIO AUTOMÓVEL -->
    <section class="card view" id="view-auto-form" hidden aria-labelledby="auto-titulo">
      <div class="card-head">
        <span class="pill">Ramo: Automóvel</span>
        <h3 id="auto-titulo">Pedido de Simulação — Automóvel</h3>
        <p class="helper">Preenche os dados. Alguns campos ajustam-se às tuas escolhas.</p>
      </div>

      <form id="formAuto" class="form" novalidate>
        <!-- Email do Parceiro (preenchido via login) -->
        <label class="input">
          <span>Email do Parceiro (confirmação)</span>
          <input type="email" name="auto_email" id="auto_email" placeholder="parceiro@empresa.pt" required />
        </label>

        <div class="divider"></div>

        <div class="grid grid-2">
          <label class="input">
            <span>Nome Completo</span>
            <input type="text" name="auto_nome" id="auto_nome" required />
          </label>

          <label class="input">
            <span>NIF</span>
            <input type="text" inputmode="numeric" pattern="^[0-9]{9}$" maxlength="9"
                   name="auto_nif" id="auto_nif" placeholder="9 dígitos" required />
          </label>
        </div>

        <div class="grid grid-2">
          <label class="input">
            <span>Email</span>
            <input type="email" name="auto_contact_email" id="auto_contact_email" placeholder="cliente@exemplo.pt" />
          </label>
          <label class="input">
            <span>Telemóvel</span>
            <input type="tel" name="auto_phone" id="auto_phone" placeholder="9XXXXXXXX" />
          </label>
        </div>

        <label class="input">
          <span>Código Postal + Localidade + Morada</span>
          <input type="text" name="auto_morada" id="auto_morada" placeholder="Ex.: 4050-123 Porto, Rua ... nº ..." required />
        </label>

        <div class="grid grid-2">
          <label class="input">
            <span>Data de Nascimento</span>
            <input type="text" class="date-input" name="auto_dn" id="auto_dn" placeholder="dd/mm/aaaa" required />
          </label>

          <label class="input">
            <span>Data da Carta de Condução</span>
            <input type="text" class="date-input" name="auto_dcarta" id="auto_dcarta" placeholder="dd/mm/aaaa" required />
          </label>
        </div>

        <fieldset class="fieldset">
          <legend>O Tomador é o Condutor Habitual?</legend>
          <div class="options">
            <label class="option">
              <input type="radio" name="auto_tomadorCondutor" value="SIM" checked />
              <span>Sim</span>
            </label>
            <label class="option">
              <input type="radio" name="auto_tomadorCondutor" value="NAO" />
              <span>Não</span>
            </label>
          </div>
        </fieldset>

        <div id="auto_condutorGrupo" class="reveal" hidden>
          <div class="grid grid-2">
            <label class="input">
              <span>Nome do Condutor Habitual</span>
              <input type="text" name="auto_ch_nome" id="auto_ch_nome" />
            </label>
            <label class="input">
              <span>NIF (Condutor Habitual)</span>
              <input type="text" inputmode="numeric" pattern="^[0-9]{9}$" maxlength="9"
                     name="auto_ch_nif" id="auto_ch_nif" placeholder="9 dígitos" />
            </label>
          </div>
          <div class="grid grid-2">
            <label class="input">
              <span>Data de Nascimento (Condutor Habitual)</span>
              <input type="text" class="date-input" name="auto_ch_dn" id="auto_ch_dn" placeholder="dd/mm/aaaa" />
            </label>
            <label class="input">
              <span>Data da Carta (Condutor Habitual)</span>
              <input type="text" class="date-input" name="auto_ch_dcarta" id="auto_ch_dcarta" placeholder="dd/mm/aaaa" />
            </label>
          </div>
        </div>

        <div class="grid grid-2">
          <label class="input">
            <span>Matrícula</span>
            <input type="text" name="auto_matricula" id="auto_matricula"
                   placeholder="00-XX-00" pattern="^[0-9A-Z]{2}-[0-9A-Z]{2}-[0-9A-Z]{2}$" required />
          </label>
          <label class="input">
            <span>Marca e Modelo (e Versão)</span>
            <input type="text" name="auto_marcaModelo" id="auto_marcaModelo" placeholder="Ex.: Toyota Yaris 1.5 Hybrid Comfort" required />
          </label>
        </div>

        <fieldset class="fieldset">
          <legend>Coberturas Pretendidas (pode escolher várias)</legend>
          <div class="options options--wrap">
            <label class="option"><input type="checkbox" name="auto_coberturas" value="RC" /> <span>RC</span></label>
            <label class="option"><input type="checkbox" name="auto_coberturas" value="RC+QIV" /> <span>RC + QIV</span></label>
            <label class="option"><input type="checkbox" name="auto_coberturas" value="RC+QIV+Roubo" /> <span>RC + QIV + Roubo</span></label>
            <label class="option"><input type="checkbox" name="auto_coberturas" value="Danos Próprios" id="auto_dp" /> <span>Danos Próprios</span></label>
          </div>
        </fieldset>

        <div id="auto_dpGrupo" class="reveal" hidden>
          <div class="grid grid-2">
            <label class="input">
              <span>Franquia</span>
              <select name="auto_dp_franquia" id="auto_dp_franquia">
                <option value="">— selecionar —</option>
                <option value="0">0 €</option>
                <option value="250">250 €</option>
                <option value="500">500 €</option>
              </select>
            </label>
            <label class="input">
              <span>Capital Seguro</span>
              <input type="text" inputmode="numeric" name="auto_dp_capital" id="auto_dp_capital" placeholder="Ex.: 16 500 €" />
            </label>
          </div>
        </div>

        <label class="input">
          <span>Prémio de Referência + Fracionamento</span>
          <input type="text" name="auto_premioRef" id="auto_premioRef" placeholder="Ex.: 357 €/anual" />
        </label>

        <div class="divider"></div>

        <label class="checkbox-consent">
          <input type="checkbox" id="auto_consent" required />
          <span>Concordo com o tratamento dos dados para efeitos de simulação e contacto.</span>
        </label>

        <div class="row-actions">
          <button type="button" class="btn" data-nav="simulacao-menu">Voltar</button>
          <button type="submit" class="btn btn-primary">
            <span class="btn__label">Enviar Pedido (Automóvel)</span>
            <span class="btn__spinner" aria-hidden="true"></span>
          </button>
        </div>
      </form>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="script.js"></script>
</body>
</html>

